{% extends 'layout.twig' %}

{% block body %}
  <div id='calendar'></div>
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'timeGridDay',
        slotMinTime: '08:00:00', // Set minimum time to 8:00 am
        slotMaxTime: '19:00:00', // Set maximum time to 6:00 pm
        height: 'auto', // Adjust height dynamically
        contentHeight: 'auto', // Adjust content height dynamically
        headerToolbar: {
          left: 'prev,next today',
          center: 'title',
          right: 'timeGridDay,timeGridWeek'
        },
        events: {
          url: '/events', // Endpoint to fetch events
          method: 'GET',
          failure: function() {
            alert('Failed to fetch events.');
          }
        },
        eventClick: function(info) {
          // Handle event click if needed
          console.log(info.event);
        }
      });
      calendar.render();
    });
  </script>
{% endblock %}
